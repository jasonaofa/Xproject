# 分支切换功能使用指南

## 功能概述

分支管理功能已经过优化，将原来的"查询分支"和"切换分支"合并为一个统一的"分支管理"功能，提供更简洁的用户体验。

## 主要特点

- **统一界面**：一个可搜索的分支选择器，既可以查看分支，也可以选择切换分支
- **智能搜索**：支持输入部分分支名称进行实时过滤
- **自动完成**：提供分支名称的自动补全功能
- **安全切换**：切换前会显示确认对话框，防止误操作
- **状态显示**：可随时查看当前所在分支

## 界面说明

```
分支管理: [可搜索下拉框] | [切换到选定分支] | [显示当前分支名]
```

- **分支管理**：统一的分支选择器，支持搜索和选择分支
- **切换到选定分支**：执行分支切换操作的按钮
- **显示当前分支名**：显示当前所在分支的按钮

## 使用步骤

### 1. 查看分支
- 点击分支管理下拉框
- 查看所有可用的分支列表
- 当前分支会被自动选中

### 2. 搜索分支
在分支管理下拉框中输入搜索关键词：
- 输入 `feature` - 显示所有包含"feature"的分支
- 输入 `bug` - 显示所有包含"bug"的分支  
- 输入 `master` - 显示主分支
- 清空输入 - 显示所有分支

### 3. 切换分支
1. **选择分支** → 在分支管理框中选择或搜索目标分支
2. **点击切换** → 点击"切换到选定分支"按钮
3. **确认操作** → 在弹出的确认对话框中点击"是"
4. **等待完成** → 观察进度条和日志信息
5. **验证结果** → 切换成功后，分支选择器会自动更新

## 搜索示例

### 按分支类型搜索
- `feature` → 功能分支
- `bugfix` → 错误修复分支
- `release` → 发布分支
- `hotfix` → 热修复分支

### 按项目模块搜索
- `login` → 登录相关分支
- `payment` → 支付相关分支
- `admin` → 管理后台相关分支

## 操作流程

### 完整的分支切换流程
1. **检查当前分支** → 点击"显示当前分支名"了解当前状态
2. **选择目标分支** → 在分支管理框中搜索并选择目标分支
3. **执行切换** → 点击"切换到选定分支"按钮
4. **确认操作** → 仔细阅读确认对话框，确保要切换的分支正确
5. **等待完成** → 观察进度条，等待切换完成
6. **验证结果** → 检查日志信息，确认切换成功

## 注意事项

1. **保存更改**：切换分支前请确保保存所有重要更改
2. **网络连接**：切换分支需要网络连接来获取远程分支信息
3. **权限检查**：确保对目标分支有访问权限
4. **冲突处理**：如果出现冲突，请手动解决后再尝试切换

## 故障排除

### 常见问题

1. **分支列表为空**
   - **原因**：Git仓库路径未设置或无效
   - **解决**：检查并设置正确的Git仓库路径

2. **搜索无结果**
   - **原因**：输入的搜索词不匹配任何分支名
   - **解决**：尝试输入更通用的关键词或清空搜索框查看所有分支

3. **切换失败**
   - **原因**：网络问题、权限问题或分支不存在
   - **解决**：检查网络连接和分支名称是否正确

## 技术实现

### 核心组件
- **SearchableComboBox**：可搜索的组合框组件
- **实时过滤**：基于用户输入动态更新分支列表
- **自动完成**：使用QCompleter提供智能补全
- **Git操作**：通过GitSvnManager执行实际的分支切换

### 搜索算法
- 大小写不敏感的模糊匹配
- 支持部分字符串匹配
- 实时更新匹配结果

## 更新日志

### v2.0 (当前版本)
- **界面优化**：合并查询分支和切换分支功能
- **体验改进**：统一的分支管理界面，减少界面复杂度
- **功能增强**：保持所有原有功能的同时简化操作流程

### v1.0 (之前版本)
- 分离的查询分支和切换分支功能
- 两个独立的下拉框
- 基本的分支切换能力 